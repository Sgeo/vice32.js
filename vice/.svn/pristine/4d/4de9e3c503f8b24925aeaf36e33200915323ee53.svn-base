SUBDIRS = p64 @LAMEMP3SUB@ @LIBX264SUB@ @LIBFFMPEGSUB@ @FFMPEGSUB@


ffmpeglibs: $(FFMPEG_DIR)

.PHONY: libp64 libffmpeg

libp64:
	(cd p64; $(MAKE))

libffmpeg:
	(cd libffmpeg; $(MAKE) VICEBUILD=1)

ffmpeglibs-install:
	(cd libffmpeg; $(MAKE) install-libs VICEBUILD=1)

if LAMEMP3_DIR_USED

# EXTRA_DIST is a list of files in the liblame directory that need to be
# included in the source archive, this list was added to fix the fact that
# 'make dist' only produces a proper/workable source archive when done on a
# platform with either static or shared ffmpeg compile enabled.

EXTRA_DIST = \
	libffmpeg/ffmpeg_dxva2.c \
	libffmpeg/cmdutils.c \
	libffmpeg/ffmpeg_opt.c \
	libffmpeg/ffserver.c \
	libffmpeg/libavutil/avconfig.h \
	libffmpeg/ffmpeg_filter.c \
	libffmpeg/ffmpeg_vda.c \
	libffmpeg/cmdutils_opencl.c \
	libffmpeg/ffplay.c \
	libffmpeg/ffmpeg.c \
	libffmpeg/libavcodec/avcodecres.rc \
	libffmpeg/ffmpeg_vdpau.c \
	libffmpeg/ffprobe.c \
	liblame/acinclude.m4 \
	liblame/aclocal.m4 \
	liblame/API \
	liblame/ChangeLog \
	liblame/config.guess \
	liblame/config.h.in \
	liblame/config.rpath \
	liblame/config.sub \
	liblame/configMS.h \
	liblame/configure \
	liblame/configure.in \
	liblame/COPYING \
	liblame/DEFINES \
	liblame/depcomp \
	liblame/HACKING \
	liblame/INSTALL \
	liblame/INSTALL.configure \
	liblame/install-sh \
	liblame/lame.bat \
	liblame/lame.spec \
	liblame/lame.spec.in \
	liblame/LICENSE \
	liblame/ltmain.sh \
	liblame/Makefile.am \
	liblame/Makefile.am.global \
	liblame/Makefile.in \
	liblame/Makefile.MSVC \
	liblame/Makefile.unix \
	liblame/missing \
	liblame/README \
	liblame/README.WINGTK \
	liblame/STYLEGUIDE \
	liblame/testcase.mp3 \
	liblame/testcase.wav \
	liblame/TODO \
	liblame/USAGE \
	liblame/ACM/ACM.cpp \
	liblame/ACM/ACM.h \
	liblame/ACM/acm.rc \
	liblame/ACM/ACMStream.cpp \
	liblame/ACM/ACMStream.h \
	liblame/ACM/adebug.h \
	liblame/ACM/AEncodeProperties.cpp \
	liblame/ACM/AEncodeProperties.h \
	liblame/ACM/DecodeStream.cpp \
	liblame/ACM/DecodeStream.h \
	liblame/ACM/lame.ico \
	liblame/ACM/lame_acm.xml \
	liblame/ACM/lameACM.def \
	liblame/ACM/LameACM.inf \
	liblame/ACM/main.cpp \
	liblame/ACM/Makefile.am \
	liblame/ACM/Makefile.in \
	liblame/ACM/readme.txt \
	liblame/ACM/resource.h \
	liblame/ACM/TODO \
	liblame/ACM/ADbg/ADbg.cpp \
	liblame/ACM/ADbg/ADbg.h \
	liblame/ACM/ADbg/Makefile.am \
	liblame/ACM/ADbg/Makefile.in \
	liblame/ACM/ddk/Makefile.am \
	liblame/ACM/ddk/Makefile.in \
	liblame/ACM/ddk/msacmdrv.h \
	liblame/ACM/tinyxml/changes.txt \
	liblame/ACM/tinyxml/dox \
	liblame/ACM/tinyxml/makedistlinux \
	liblame/ACM/tinyxml/makedistwin.bat \
	liblame/ACM/tinyxml/Makefile.am \
	liblame/ACM/tinyxml/Makefile.in \
	liblame/ACM/tinyxml/Makefile.tinyxml \
	liblame/ACM/tinyxml/readme.txt \
	liblame/ACM/tinyxml/tinyxml.cpp \
	liblame/ACM/tinyxml/tinyxml.h \
	liblame/ACM/tinyxml/tinyxmlerror.cpp \
	liblame/ACM/tinyxml/tinyxmlparser.cpp \
	liblame/ACM/tinyxml/xmltest.cpp \
	liblame/debian/changelog \
	liblame/debian/compat \
	liblame/debian/control \
	liblame/debian/copyright \
	liblame/debian/lame.docs \
	liblame/debian/lame.install \
	liblame/debian/lame.manpages \
	liblame/debian/libmp3lame0.install \
	liblame/debian/libmp3lame-dev.install \
	liblame/debian/Makefile.am \
	liblame/debian/Makefile.in \
	liblame/debian/rules \
	liblame/debian/watch \
	liblame/Dll/BladeMP3EncDLL.c \
	liblame/Dll/BladeMP3EncDLL.def \
	liblame/Dll/BladeMP3EncDLL.h \
	liblame/Dll/Example.cpp \
	liblame/Dll/LameDLLInterface.htm \
	liblame/Dll/Makefile.am \
	liblame/Dll/Makefile.in \
	liblame/Dll/Makefile.mingw32 \
	liblame/Dll/MP3export.pas \
	liblame/Dll/README \
	liblame/doc/Makefile.am \
	liblame/doc/Makefile.in \
	liblame/doc/html/about.html \
	liblame/doc/html/abr.html \
	liblame/doc/html/cbr.html \
	liblame/doc/html/contact.html \
	liblame/doc/html/contributors.html \
	liblame/doc/html/detailed.html \
	liblame/doc/html/history.html \
	liblame/doc/html/index.html \
	liblame/doc/html/introduction.html \
	liblame/doc/html/links.html \
	liblame/doc/html/list.html \
	liblame/doc/html/Makefile.am \
	liblame/doc/html/Makefile.in \
	liblame/doc/html/ms_stereo.html \
	liblame/doc/html/usage.html \
	liblame/doc/html/vbr.html \
	liblame/doc/man/lame.1 \
	liblame/doc/man/Makefile.am \
	liblame/doc/man/Makefile.in \
	liblame/dshow/aboutprp.cpp \
	liblame/dshow/aboutprp.h \
	liblame/dshow/elogo.ico \
	liblame/dshow/Encoder.cpp \
	liblame/dshow/Encoder.h \
	liblame/dshow/iaudioprops.h \
	liblame/dshow/Makefile.am \
	liblame/dshow/Makefile.in \
	liblame/dshow/Mpegac.cpp \
	liblame/dshow/Mpegac.def \
	liblame/dshow/Mpegac.h \
	liblame/dshow/Property.rc \
	liblame/dshow/PropPage.cpp \
	liblame/dshow/PropPage.h \
	liblame/dshow/PropPage_adv.cpp \
	liblame/dshow/PropPage_adv.h \
	liblame/dshow/README \
	liblame/dshow/REG.CPP \
	liblame/dshow/REG.H \
	liblame/dshow/resource.h \
	liblame/dshow/UIDS.H \
	liblame/frontend/amiga_mpega.c \
	liblame/frontend/brhist.c \
	liblame/frontend/brhist.h \
	liblame/frontend/console.c \
	liblame/frontend/console.h \
	liblame/frontend/depcomp \
	liblame/frontend/get_audio.c \
	liblame/frontend/get_audio.h \
	liblame/frontend/gpkplotting.c \
	liblame/frontend/gpkplotting.h \
	liblame/frontend/gtkanal.c \
	liblame/frontend/gtkanal.h \
	liblame/frontend/lame_main.c \
	liblame/frontend/lametime.c \
	liblame/frontend/lametime.h \
	liblame/frontend/main.c \
	liblame/frontend/main.h \
	liblame/frontend/Makefile.am \
	liblame/frontend/Makefile.in \
	liblame/frontend/mp3rtp.c \
	liblame/frontend/mp3x.c \
	liblame/frontend/parse.c \
	liblame/frontend/parse.h \
	liblame/frontend/rtp.c \
	liblame/frontend/rtp.h \
	liblame/frontend/timestatus.c \
	liblame/frontend/timestatus.h \
	liblame/include/lame.def \
	liblame/include/lame.h \
	liblame/include/libmp3lame.sym \
	liblame/include/Makefile.am \
	liblame/include/Makefile.in \
	liblame/libmp3lame/bitstream.c \
	liblame/libmp3lame/bitstream.h \
	liblame/libmp3lame/depcomp \
	liblame/libmp3lame/encoder.c \
	liblame/libmp3lame/encoder.h \
	liblame/libmp3lame/fft.c \
	liblame/libmp3lame/fft.h \
	liblame/libmp3lame/gain_analysis.c \
	liblame/libmp3lame/gain_analysis.h \
	liblame/libmp3lame/id3tag.c \
	liblame/libmp3lame/id3tag.h \
	liblame/libmp3lame/l3side.h \
	liblame/libmp3lame/lame.c \
	liblame/libmp3lame/lame.rc \
	liblame/libmp3lame/lame_global_flags.h \
	liblame/libmp3lame/lame-analysis.h \
	liblame/libmp3lame/lameerror.h \
	liblame/libmp3lame/lame-machine.h \
	liblame/libmp3lame/logoe.ico \
	liblame/libmp3lame/Makefile.am \
	liblame/libmp3lame/Makefile.in \
	liblame/libmp3lame/mpglib_interface.c \
	liblame/libmp3lame/newmdct.c \
	liblame/libmp3lame/newmdct.h \
	liblame/libmp3lame/presets.c \
	liblame/libmp3lame/psymodel.c \
	liblame/libmp3lame/psymodel.h \
	liblame/libmp3lame/quantize.c \
	liblame/libmp3lame/quantize.h \
	liblame/libmp3lame/quantize_pvt.c \
	liblame/libmp3lame/quantize_pvt.h \
	liblame/libmp3lame/reservoir.c \
	liblame/libmp3lame/reservoir.h \
	liblame/libmp3lame/set_get.c \
	liblame/libmp3lame/set_get.h \
	liblame/libmp3lame/tables.c \
	liblame/libmp3lame/tables.h \
	liblame/libmp3lame/takehiro.c \
	liblame/libmp3lame/util.c \
	liblame/libmp3lame/util.h \
	liblame/libmp3lame/vbrquantize.c \
	liblame/libmp3lame/vbrquantize.h \
	liblame/libmp3lame/VbrTag.c \
	liblame/libmp3lame/VbrTag.h \
	liblame/libmp3lame/version.c \
	liblame/libmp3lame/version.h \
	liblame/libmp3lame/i386/choose_table.nas \
	liblame/libmp3lame/i386/cpu_feat.nas \
	liblame/libmp3lame/i386/fft.nas \
	liblame/libmp3lame/i386/fft3dn.nas \
	liblame/libmp3lame/i386/fftfpu.nas \
	liblame/libmp3lame/i386/fftsse.nas \
	liblame/libmp3lame/i386/ffttbl.nas \
	liblame/libmp3lame/i386/Makefile.am \
	liblame/libmp3lame/i386/Makefile.in \
	liblame/libmp3lame/i386/nasm.h \
	liblame/libmp3lame/i386/scalar.nas \
	liblame/libmp3lame/vector/lame_intrin.h \
	liblame/libmp3lame/vector/Makefile.am \
	liblame/libmp3lame/vector/Makefile.in \
	liblame/libmp3lame/vector/xmm_quantize_sub.c \
	liblame/mac/LAME.mcp \
	liblame/mac/LAME_Carbon_Debug.pch \
	liblame/mac/LAME_Carbon_Final.pch \
	liblame/mac/LAME_Classic_Debug.pch \
	liblame/mac/LAME_Classic_Final.pch \
	liblame/mac/MacDLLMain.c \
	liblame/mac/Makefile.am \
	liblame/mac/Makefile.in \
	liblame/mac/Precompile_Common.h \
	liblame/macosx/Info.plist \
	liblame/macosx/LAME_Prefix.pch \
	liblame/macosx/Makefile.am \
	liblame/macosx/Makefile.in \
	liblame/macosx/English.lproj/InfoPlist.strings \
	liblame/macosx/English.lproj/Makefile.am \
	liblame/macosx/English.lproj/Makefile.in \
	liblame/macosx/LAME.xcodeproj/Makefile.am \
	liblame/macosx/LAME.xcodeproj/Makefile.in \
	liblame/macosx/LAME.xcodeproj/project.pbxproj \
	liblame/misc/abx.c \
	liblame/misc/ath.c \
	liblame/misc/auenc \
	liblame/misc/depcomp \
	liblame/misc/Lame.vbs \
	liblame/misc/lame4dos.bat \
	liblame/misc/lameGUI.html \
	liblame/misc/lameid3.pl \
	liblame/misc/Makefile.am \
	liblame/misc/Makefile.in \
	liblame/misc/mk_mp3.sh \
	liblame/misc/mlame \
	liblame/misc/mlame_corr.c \
	liblame/misc/mugeco.sh \
	liblame/misc/scalartest.c \
	liblame/mpglib/AUTHORS \
	liblame/mpglib/common.c \
	liblame/mpglib/common.h \
	liblame/mpglib/dct64_i386.c \
	liblame/mpglib/dct64_i386.h \
	liblame/mpglib/decode_i386.c \
	liblame/mpglib/decode_i386.h \
	liblame/mpglib/depcomp \
	liblame/mpglib/huffman.h \
	liblame/mpglib/interface.c \
	liblame/mpglib/interface.h \
	liblame/mpglib/l2tables.h \
	liblame/mpglib/layer1.c \
	liblame/mpglib/layer1.h \
	liblame/mpglib/layer2.c \
	liblame/mpglib/layer2.h \
	liblame/mpglib/layer3.c \
	liblame/mpglib/layer3.h \
	liblame/mpglib/Makefile.am \
	liblame/mpglib/Makefile.in \
	liblame/mpglib/mpg123.h \
	liblame/mpglib/mpglib.h \
	liblame/mpglib/README \
	liblame/mpglib/tabinit.c \
	liblame/mpglib/tabinit.h \
	liblame/vc_solution/arch_nasm.vsprops \
	liblame/vc_solution/arch_sse2.vsprops \
	liblame/vc_solution/arch_x87.vsprops \
	liblame/vc_solution/Makefile.am \
	liblame/vc_solution/Makefile.in \
	liblame/vc_solution/vc9_lame.sln \
	liblame/vc_solution/vc9_lame_acm.vcproj \
	liblame/vc_solution/vc9_lame_acm_adbg.vcproj \
	liblame/vc_solution/vc9_lame_acm_tinyxml.vcproj \
	liblame/vc_solution/vc9_lame_clients.sln \
	liblame/vc_solution/vc9_lame_config.vsprops \
	liblame/vc_solution/vc9_lame_dll.vcproj \
	liblame/vc_solution/vc9_lame_dll_example.vcproj \
	liblame/vc_solution/vc9_lame_dshow.vcproj \
	liblame/vc_solution/vc9_lame_lame.vcproj \
	liblame/vc_solution/vc9_lame_mp3rtp.vcproj \
	liblame/vc_solution/vc9_lame_mp3x.vcproj \
	liblame/vc_solution/vc9_lame_test.vcproj \
	liblame/vc_solution/vc9_libmp3lame.vcproj \
	liblame/vc_solution/vc9_libmp3lame_dll.vcproj \
	liblame/vc_solution/vc9_mpglib.vcproj \
	liblame/vc_solution/vc9_nasm.rules

endif
